(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/cartoon-wallet.b15e3dfb.png"},32:function(e,t,a){e.exports=a(43)},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),i=a.n(l),c=a(17),o=a(14),s=a(13),u=a(29),d=a(30),m=a(3),p={email:""};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FORM":return Object(m.a)(Object(m.a)({},e),{},{email:t.payload});default:return e}},E=a(19),b=function(e,t){return Object(m.a)(Object(m.a)({},e),{},{currencies:t})},v={currencies:[],error:"",expenses:[],id:0,totalExpenses:0,update:!1};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type,r=t.error,l=t.value,i=t.description,c=t.currency,o=void 0===c?"USD":c,s=t.currencies,u=t.method,d=t.tag,p=t.id;switch(n){case"FETCH_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:r});case"RECEIVED_CURRENCIES":return b(e,s);case"RECEIVED_QUOTATION":return Object(m.a)(Object(m.a)({},e),{},{expenses:[].concat(Object(E.a)(e.expenses),[{exchangeRates:a,id:p,value:l,description:i,currency:o,method:u,tag:d}])});case"UPDATE_ITEMS_MODE":return Object(m.a)(Object(m.a)({},e),{},{update:!0,id:p});case"UPDATE_ITEMS":return Object(m.a)(Object(m.a)({},e),{},{expenses:a,update:!1});case"DELETE_ITEMS":return Object(m.a)(Object(m.a)({},e),{},{expenses:a});default:return e}},y=Object(s.combineReducers)({user:h,wallet:f}),g=Object(s.createStore)(y,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(d.a))),O=a(2),j=a(16),C=a(4),k=a(5),N=a(9),w=a(7),I=a(6),x=function(e){return{type:"FETCH_ERROR",error:e}};var D=function(e){Object(w.a)(a,e);var t=Object(I.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"enableOrDisableSubmitButton",value:function(e,t){return!e||!t}},{key:"renderButtonLink",value:function(e,t,a){return r.a.createElement(c.b,{to:"/carteira"},r.a.createElement("button",{className:"submit-input-id",disabled:this.enableOrDisableSubmitButton(e,a),id:"submit-input-id",onClick:t,type:"button"},"Entrar"))}},{key:"render",value:function(){var e=this.props,t=e.emailEnableButton,a=e.emailInput,n=e.handleChange,l=e.handleClick,i=e.passwordEnableButton,c=e.passwordInput;return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Entrar"),r.a.createElement("form",null,r.a.createElement("fieldset",{className:"fieldset-login-form"},r.a.createElement("label",{className:"form-label email-label",htmlFor:"email-input-id"},"Email:",r.a.createElement("input",{className:"form-control email-input-id","data-testid":"email-input",id:"email-input-id",name:"emailInput",onChange:n,placeholder:"Email:",required:!0,type:"email",value:a})),r.a.createElement("label",{className:"form-label password-label",htmlFor:"password-input-id"},"Senha:",r.a.createElement("input",{className:"form-control password-input-id","data-testid":"password-input",id:"password-input-id",minLength:"6",name:"passwordInput",onChange:n,placeholder:"Senha:",type:"password",value:c})),r.a.createElement("div",{className:"button-content"},this.renderButtonLink(t,l,i)))))}}]),a}(r.a.Component),T=a(31),S=a.n(T),F=function(e){Object(w.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={emailEnableButton:!1,emailInput:"",passwordEnableButton:!1,passwordInput:""},n.handleChange=n.handleChange.bind(Object(N.a)(n)),n.handleClick=n.handleClick.bind(Object(N.a)(n)),n}return Object(k.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;if(this.setState(Object(j.a)({},a,n)),"emailInput"===a)n.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)&&this.setState({emailEnableButton:!0});else if("passwordInput"===a){n.length>=6&&this.setState({passwordEnableButton:!0})}}},{key:"handleClick",value:function(){(0,this.props.sendLoginForm)(this.state.emailInput)}},{key:"render",value:function(){var e=this.state,t=e.emailEnableButton,a=e.emailInput,n=e.passwordEnableButton,l=e.passwordInput;return r.a.createElement("div",{className:"main-login"},r.a.createElement("div",{className:"left-side"},r.a.createElement("img",{src:S.a,alt:"Login"}),r.a.createElement("p",null,"Tenha o simples e r\xe1pido controle das suas despesas no TrybeWallet",r.a.createElement("i",{className:"fas fa-coins fa-lg coin"}))),r.a.createElement("div",{className:"right-side"},r.a.createElement("div",{className:"top-text-content"},r.a.createElement("h2",null,"Bem vindo ao TrybeWallet!!"),r.a.createElement("p",null,"Insira seu email e senha para entrar (Nenhum dado ser\xe1 salvo - Site fict\xedcio)")),r.a.createElement(D,{emailEnableButton:t,emailInput:a,handleChange:this.handleChange,handleClick:this.handleClick,passwordEnableButton:n,passwordInput:l})))}}]),a}(r.a.Component),R=Object(o.b)(null,(function(e){return{sendLoginForm:function(t){return e({type:"LOGIN_FORM",payload:t})}}}))(F),M=function(e){Object(w.a)(a,e);var t=Object(I.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"returnButton",value:function(){var e=this.props,t=e.data,a=t.value,n=t.currency,l=t.method,i=t.tag,c=e.name,o=e.onClick;return a.length>0&&n.length>0&&l.length>0&&i.length>0?r.a.createElement("input",{className:"btn btn-primary",type:"button",value:c,onClick:o}):r.a.createElement("input",{className:"btn btn-primary",type:"button",value:c,onClick:o,disabled:!0})}},{key:"render",value:function(){return this.returnButton()}}]),a}(n.Component),B=function(e){Object(w.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(C.a)(this,a),(e=t.call(this)).deletePurchase=e.deletePurchase.bind(Object(N.a)(e)),e}return Object(k.a)(a,[{key:"deletePurchase",value:function(e){var t=this.props,a=t.deletePurchase;a(t.expenses.filter((function(t){return t.id!==e})))}},{key:"updateMode",value:function(e){var t=this.props.updateMode;t(e)}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.value,n=t.description,l=t.method,i=t.tag,c=t.currency,o=t.exchangeRates,s=t.id;return r.a.createElement("tr",{className:"line"},r.a.createElement("td",null,n),r.a.createElement("td",null,i),r.a.createElement("td",null,l),r.a.createElement("td",null,parseFloat(a)),r.a.createElement("td",null,o[c].name.split("/")[0]),r.a.createElement("td",null,parseFloat(o[c].ask).toFixed(2)),r.a.createElement("td",null,Math.round(100*parseFloat(o[c].ask*a))/100),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("input",{className:"btn btn-warning","data-testid":"edit-btn",id:"edit-button",type:"button",value:"editar",onClick:function(){return e.updateMode(s)}}),r.a.createElement("input",{className:"btn btn-danger","data-testid":"delete-btn",type:"button",value:"excluir",onClick:function(){return e.deletePurchase(s)}})))}}]),a}(n.Component),_=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{deletePurchase:function(t){return e({type:"DELETE_ITEMS",payload:t})},updateMode:function(t){return e(function(e){return{type:"UPDATE_ITEMS_MODE",id:e}}(t))}}}))(B),P=function(e){Object(w.a)(a,e);var t=Object(I.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,e.length>0&&e.map((function(e,t){return r.a.createElement(_,{key:t,data:e})}))))}}]),a}(r.a.Component),U=function(e){Object(w.a)(a,e);var t=Object(I.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"renderValueDescriptionCoin",value:function(e,t){return r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"input-value-id"},"Valor:",r.a.createElement("input",{className:"form-control",id:"input-value-id",name:"value",onChange:e,type:"text",value:t})))}},{key:"render",value:function(){var e=this.props,t=e.arrayCurrencies,a=e.currency,n=e.description,l=e.handleChange,i=e.value;return r.a.createElement(r.a.Fragment,null,this.renderValueDescriptionCoin(l,i),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"input-description-id"},"Descri\xe7\xe3o:",r.a.createElement("input",{className:"form-control",id:"input-description-id",name:"description",onChange:l,type:"text",value:n}))),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"input-select-currency-id"},"Moeda:",r.a.createElement("select",{className:"form-select",id:"input-select-currency-id",name:"currency",onChange:l,value:a},t&&t.filter((function(e){return"USDT"!==e})).map((function(e,t){return r.a.createElement("option",{key:t,name:"currency",value:e},e)}))))))}}]),a}(r.a.Component),A=function(e){Object(w.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(C.a)(this,a),(e=t.call(this)).state={currency:"USD",description:"",id:0,method:"Dinheiro",tag:"Alimenta\xe7\xe3o",value:""},e.handleChange=e.handleChange.bind(Object(N.a)(e)),e.handleClick=e.handleClick.bind(Object(N.a)(e)),e.renderForm=e.renderForm.bind(Object(N.a)(e)),e.renderHeader=e.renderHeader.bind(Object(N.a)(e)),e.setInputstoEdit=e.setInputstoEdit.bind(Object(N.a)(e)),e.updateItems=e.updateItems.bind(Object(N.a)(e)),e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.requestCurrencies)()}},{key:"componentDidUpdate",value:function(e){var t=this.props.update;e.update!==t&&this.setInputstoEdit()}},{key:"setInputstoEdit",value:function(){var e=this.props,t=e.expenses,a=e.id,n=t.filter((function(e){return e.id===a}))[0];this.setState({value:n.value,tag:n.tag,method:n.method,currency:n.currency,description:n.description})}},{key:"handleClick",value:function(){var e=this.props.requestQuotation;this.setState((function(e){return{id:e.id+1}})),e(this.state),this.setState({currency:"USD",description:"",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",value:""})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n))}},{key:"returnButton",value:function(){var e=this,t=this.props,a=t.update,n=t.id,l=r.a.createElement(M,{name:"Adicionar despesa",data:this.state,onClick:this.handleClick}),i=r.a.createElement(M,{name:"Editar despesa",data:this.state,onClick:function(){return e.updateItems(n)}});return a?i:l}},{key:"updateItems",value:function(e){var t=this.state,a=t.value,n=t.description,r=t.method,l=t.tag,i=t.currency,c=this.props,o=c.expenses;(0,c.updatePurchase)(o.reduce((function(t,c){return c.id===e?[].concat(Object(E.a)(t),[{id:e,value:a,description:n,currency:i,method:r,tag:l,exchangeRates:c.exchangeRates}]):[].concat(Object(E.a)(t),[c])}),[])),this.setState({currency:"USD",description:"",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",value:""})}},{key:"renderPayMethod",value:function(e,t){return r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"input-select-payment-type-id"},"M\xe9todo de pagamento:",r.a.createElement("select",{className:"form-select",id:"input-select-payment-type-id",name:"method",onChange:e,value:t},r.a.createElement("option",{name:"method",value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{name:"method",value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{name:"method",value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))))}},{key:"renderForm",value:function(){var e=this.state,t=e.currency,a=e.description,n=e.method,l=e.tag,i=e.value,c=this.props.currencies;return r.a.createElement("form",{className:"form-class"},r.a.createElement(U,{arrayCurrencies:c,currency:t,description:a,handleChange:this.handleChange,value:i}),this.renderPayMethod(this.handleChange,n),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{className:"form-label",htmlFor:"input-select-tag-id"},"Tag:",r.a.createElement("select",{className:"form-select",id:"input-select-tag-id",name:"tag",onChange:this.handleChange,value:l},r.a.createElement("option",{name:"tag",value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{name:"tag",value:"Lazer"},"Lazer"),r.a.createElement("option",{name:"tag",value:"Trabalho"},"Trabalho"),r.a.createElement("option",{name:"tag",value:"Transporte"},"Transporte"),r.a.createElement("option",{name:"tag",value:"Sa\xfade"},"Sa\xfade")))),this.returnButton())}},{key:"renderHeader",value:function(){var e=this.props,t=e.email,a=e.totalAmount;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header-item"},r.a.createElement("p",{className:"email-class","data-testid":"email-field"},"Usu\xe1rio atual"),r.a.createElement("span",{className:"span-header-user"},t)),r.a.createElement("div",{className:"header-item"},r.a.createElement("p",{"data-testid":"total-field"},"Total das despesas"),r.a.createElement("span",{className:"span-header"},"R$".concat(parseFloat(a).toFixed(2)))),r.a.createElement("div",{className:"header-item"},r.a.createElement("p",{"data-testid":"header-currency-field"},"C\xe2mbio utilizado"),r.a.createElement("span",{className:"span-header-brl"},"BRL")))}},{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("main",null,this.renderHeader(),this.renderForm(),r.a.createElement(P,{expenses:e}))}}]),a}(r.a.Component);A.defaultProps={email:"",id:0,update:!1};var L=Object(o.b)((function(e){return{currencies:e.wallet.currencies,email:e.user.email,expenses:e.wallet.expenses,exchangeRates:e.wallet.expenses,totalAmount:e.wallet.expenses.reduce((function(e,t){var a=t.value,n=t.currency,r=t.exchangeRates;return e+parseFloat(r[n].ask)*a}),0),update:e.wallet.update,id:e.wallet.id}}),(function(e){return{requestQuotation:function(t){return e(function(e){return function(t){fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(a){return t({type:"RECEIVED_QUOTATION",payload:a,id:(n=e).id,value:n.value,description:n.description,currency:n.currency,method:n.method,tag:n.tag});var n})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Falha na requisi\xe7\xe3o";return t(x(e))}))}}(t))},requestCurrencies:function(){return e((function(e){fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"RECEIVED_CURRENCIES",currencies:e}}(Object.keys(t)))})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Falha na requisi\xe7\xe3o";return e(x(t))}))}))},updatePurchase:function(t){return e({type:"UPDATE_ITEMS",payload:t})}}}))(A);a(42);var V=function(){return r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/carteira",render:function(){return r.a.createElement(L,null)}}),r.a.createElement(O.a,{exact:!0,path:"/",render:function(){return r.a.createElement(R,null)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(c.a,null,r.a.createElement(o.a,{store:g},r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.246d63bf.chunk.js.map